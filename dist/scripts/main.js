!function(){"use strict";window.App={},App.Models={},App.Collections={},App.Views={},App.Routers={},App.Models.MenuItem=Backbone.Model.extend({defaults:{name:"i",needsMeat:"false",needsNoodle:"false",quantity:1}}),App.Models.Starter=App.Models.MenuItem.extend({defaults:{name:"i"}}),App.Models.Entree=App.Models.MenuItem.extend({defaults:{name:"i"}}),App.Models.Dessert=App.Models.MenuItem.extend({defaults:{name:"i"}}),App.Models.BasicDrink=App.Models.MenuItem.extend({defaults:{name:"i"}}),App.Models.Beer=App.Models.MenuItem.extend({defaults:{name:"i"}}),App.Models.ThaiDrink=App.Models.MenuItem.extend({defaults:{name:"i"}}),App.Models.ItemToOrder=App.Models.MenuItem.extend({}),App.Models.TagOC=Backbone.Model.extend({defaults:{orderComplete:!0,whenPlaced:(new Date).getTime()}}),App.Collections.MenuItems=Backbone.Collection.extend({model:App.Models.MenuItem}),App.Collections.StartersList=App.Collections.MenuItems.extend({model:App.Models.Starter});var e=[{name:"Satay",description:"Set of 4 skewers.",price:15,needsMeat:!0,imageUrl:"images/satay.jpg"},{name:"Som Tam",price:15,imageUrl:"images/somTam.jpg"},{name:"Thai Chicken Wings",price:40,imageUrl:"images/chickenWings.jpg"}];App.Collections.EntreesList=App.Collections.MenuItems.extend({model:App.Models.Entree});var t=[{name:"Gaeng Kiew Wan",price:35,needsMeat:!0,meatType:"chicken",imageUrl:"images/greenCurry.jpg"},{name:"Gaeng Pet",price:35,needsMeat:!0,imageUrl:"images/gaengPet.gif"},{name:"Noodle Soup",price:15,needsMeat:!0,needsNoodle:!0,imageUrl:"images/thaiNoodle.jpeg"},{name:"Pad Thai",price:25,needsMeat:!0,imageUrl:"images/padThai.jpg"},{name:"Pad Ka Prow Moo Khai Dow",description:"Make sure you slice the egg yolk open first so you can dip each bite in it. Pat's favorite Thai street food!",price:30,imageUrl:"images/padKaiDow.jpg"},{name:"Khow Man Kai",description:"Hainan chicken served with cucumber slices and Thai chili salsa. Delicious!",price:20,imageUrl:"images/khowManKai3.jpg"}];App.Collections.DessertsList=App.Collections.MenuItems.extend({model:App.Models.Dessert});var i=[{name:"Fruit Plate",price:15,imageUrl:"images/fruitPlate.jpg"},{name:"Khao Neow Dam",description:"Sweet black sticky rice with shredded coconut on top.",price:5,imageUrl:"images/blackStickyRice.jpg"}];App.Collections.BasicDrinksList=App.Collections.MenuItems.extend({model:App.Models.BasicDrink});var n=[{name:"Coconut Water",price:15,imageUrl:"images/coconutWater.jpeg"},{name:"Coke",price:5,imageUrl:"images/coke.jpeg"}];App.Collections.BeerList=App.Collections.MenuItems.extend({model:App.Models.Beer});var l=[{name:"Chang",price:10,imageUrl:"images/chang.jpeg"},{name:"Dead Guy Ale",price:55,imageUrl:"images/deadGuyAle.jpg"},{name:"Heineken",price:35,imageUrl:"images/heineken.jpeg"},{name:"Newcastle",price:45,imageUrl:"images/newcastle.jpg"},{name:"Singha",price:15,imageUrl:"images/singha.jpeg"}];App.Collections.ThaiDrankList=App.Collections.MenuItems.extend({model:App.Models.ThaiDrink});var a=[{name:"Thai Iced Tea",price:10,imageUrl:"images/thaiIcedTea.jpeg"},{name:"Thai Red Bull",price:20,imageUrl:"images/thaiRedBull.jpeg"},{name:"Sang Som",price:20,imageUrl:"images/sangSom.jpg"}];App.Collections.ItemsToOrder=Backbone.Firebase.Collection.extend({model:App.Models.MenuItem,firebase:"http://majesticthai.firebaseIO.com/orders/"+Date.now()}),App.Views.MainView=Backbone.View.extend({initialize:function(){this.render()},template:_.template($("#topNav").text()),render:function(){this.$el.html(this.template()),$(".loadMenu").append(this.el)},events:{"click button[class=food]":"renderFoodView","click button[class=drinks]":"renderDrinksView","click button[class=specials]":"renderSpecialsView"},renderFoodView:function(){$(".dynamicViewLoader").empty();var e=new App.Views.FoodView;e.render()},renderDrinksView:function(){$(".dynamicViewLoader").empty();var e=new App.Views.DrinksView;e.render()},renderSpecialsView:function(){$(".dynamicViewLoader").empty();var e=new App.Views.SpecialsView;e.render()}}),App.Views.FoodView=Backbone.View.extend({template:_.template($("#menuSectionView").text()),description:"Before you even ask, yes it's all organic. Mai pen rai.",render:function(){this.$el.html(this.template()),$(".dynamicViewLoader").append(this.el);var n=new App.Collections.StartersList;n.set(e);var l=new App.Views.StartersView({collection:n});l.render();var a=new App.Collections.EntreesList;a.set(t);var s=new App.Views.EntreesView({collection:a});s.render();var o=new App.Collections.DessertsList;o.set(i);var p=new App.Views.DessertsView({collection:o});p.render()}}),App.Views.DrinksView=Backbone.View.extend({template:_.template($("#menuSectionView").text()),description:"Our drinks make it rain like it's monsoon season.",render:function(){this.$el.html(this.template()),$(".dynamicViewLoader").append(this.el);var e=new App.Collections.BasicDrinksList;e.set(n);var t=new App.Views.BasicDrinksView({collection:e});t.render();var i=new App.Collections.BeerList;i.set(l);var s=new App.Views.BeersView({collection:i});s.render();var o=new App.Collections.ThaiDrankList;o.set(a);var p=new App.Views.ThaiDrankView({collection:o});p.render()}}),App.Views.SpecialsView=Backbone.View.extend({template:_.template($("#menuSectionView").text()),description:"Once we can afford it we will post daily specials and combo meals here. For now though we're just trying to pay back our Iron Yard tuition!",render:function(){this.$el.html(this.template()),$(".dynamicViewLoader").append(this.el)}}),App.Views.ItemView=Backbone.View.extend({tagName:"li",template:_.template($("#thumbnailView").text()),events:{"click button":"displayInSidebar"},displayInSidebar:function(){if(!e)var e=new App.Views.HItemView({model:this.model});e.render()},render:function(){this.$el.html(this.template()),$("."+this.catTitle).append(this.el)}}),App.Views.SCartView=Backbone.View.extend({tagName:"ul",initialize:function(){this.listenTo(this.collection,"add",this.render),this.listenTo(this.collection,"remove",this.render)},template:_.template($("#sCartView").text()),events:{"click button[class=placeOrder]":"placeOrder"},render:function(){console.log(this.collection.length),this.$el.html(this.template({collection:this.collection})),$(".shoppingCart").append(this.el),this.collection.each(_.bind(this.renderChild,this))},renderChild:function(e){var t=new App.Views.SCartItemView({model:e});t.render(),this.$el.prepend(t.el)},placeOrder:function(){console.log("collection:",this.collection),alert("Your order has been placed.");var e=new App.Models.TagOC({totalPrice:totalCost});this.collection.add(e),document.location.reload(!0),console.log("hi"),$(".highlightedItem").empty(),this.$el.empty()}}),App.Views.SCartItemView=Backbone.View.extend({initialize:function(){this.collection=s.collection},tagName:"li",template:_.template($("#sCartLineItemView").text()),events:{"click button":"removeFromSCart"},removeFromSCart:function(){console.log(this.model),window.totalCost=window.totalCost-this.model.get("price")*this.model.get("quantity"),this.collection.remove(this.model),$(".highlightedItem").empty(),$(".highlightedItem").html("<h5>"+this.model.get("name")+" has been removed from your order :)</h5>")},render:function(){this.$el.html(this.template({model:this.model}))}}),window.itemsToOrder=new App.Collections.ItemsToOrder;var s=new App.Views.SCartView({collection:itemsToOrder});App.Views.HItemView=Backbone.View.extend({initialize:function(){this.collection=itemsToOrder},template:_.template($("#hItemView").text()),events:{"click button[class=addIt]":"addToSCartList"},addToSCartList:function(e){console.log(e),window.newModel=new App.Models.ItemToOrder({name:this.model.get("name"),price:this.model.get("price")}),newModel.set({quantity:$("#quantity").val()}),this.model.get("needsMeat")===!0&&(newModel.set({needsMeat:!0}),newModel.set("1"==$("#meatSelect").val()?{meatType:"chicken"}:"2"==$("#meatSelect").val()?{meatType:"pork"}:"3"==$("#meatSelect").val()?{meatType:"shrimp"}:{meatType:"vegetarian"})),this.model.get("needsNoodle")===!0&&(newModel.set({needsNoodle:!0}),newModel.set("1"==$("#noodleSelect").val()?{noodleType:"Sen Yai"}:"2"==$("#noodleSelect").val()?{noodleType:"Sen Lek"}:{noodleType:"Sen Mee"})),window.totalCost=window.totalCost+this.model.get("price")*newModel.get("quantity"),s.collection.add(newModel),console.log(itemsToOrder),console.log(s.collection),this.$el.html("<h5>"+this.model.get("name")+" has been added to your order :)</h5>")},render:function(){this.$el.html(this.template()),$(".highlightedItem").empty(),$(".highlightedItem").append(this.el)}}),App.Views.StartersView=Backbone.View.extend({template:_.template($("#specificCatView").text()),catTitle:"Starters & Sides",render:function(){this.$el.html(this.template()),$(".description").append(this.el),this.collection.each(_.bind(this.renderChild,this))},renderChild:function(e){var t=new App.Views.ItemView({model:e});t.render(),this.$el.append(t.el)}}),App.Views.EntreesView=Backbone.View.extend({template:_.template($("#specificCatView").text()),catTitle:"Entrees",render:function(){this.$el.html(this.template()),$(".description").append(this.el),this.collection.each(_.bind(this.renderChild,this))},renderChild:function(e){var t=new App.Views.ItemView({model:e});t.render(),this.$el.append(t.el)}}),App.Views.DessertsView=Backbone.View.extend({template:_.template($("#specificCatView").text()),catTitle:"Desserts",render:function(){this.$el.html(this.template()),$(".description").append(this.el),this.collection.each(_.bind(this.renderChild,this))},renderChild:function(e){var t=new App.Views.ItemView({model:e});t.render(),this.$el.append(t.el)}}),App.Views.BasicDrinksView=Backbone.View.extend({template:_.template($("#specificCatView").text()),catTitle:"Basic Drinks",render:function(){this.$el.html(this.template()),$(".description").append(this.el),this.collection.each(_.bind(this.renderChild,this))},renderChild:function(e){var t=new App.Views.ItemView({model:e});t.render(),this.$el.append(t.el)}}),App.Views.BeersView=Backbone.View.extend({template:_.template($("#specificCatView").text()),catTitle:"Beers",render:function(){this.$el.html(this.template()),$(".description").append(this.el),this.collection.each(_.bind(this.renderChild,this))},renderChild:function(e){var t=new App.Views.ItemView({model:e});t.render(),this.$el.append(t.el)}}),App.Views.ThaiDrankView=Backbone.View.extend({template:_.template($("#specificCatView").text()),catTitle:"Thai Drank",render:function(){this.$el.html(this.template()),$(".description").append(this.el),this.collection.each(_.bind(this.renderChild,this))},renderChild:function(e){var t=new App.Views.ItemView({model:e});t.render(),this.$el.append(t.el)}})}(),$(document).ready(function(){"use strict";var e=(new App.Models.MenuItem,new App.Collections.MenuItems),t=(new App.Models.Beer,new App.Views.MainView({collection:e}),new App.Views.FoodView);t.render(),window.totalCost=0});